{% extends 'seller_base.html' %}

{% block title %}Settings | OTL Platform{% endblock %}

{% block extra_head %}
<style>
    /* Toggle Switch Styles */
    .toggle-checkbox:checked {
        right: 0;
        border-color: var(--accent);
    }

    .toggle-checkbox:checked+.toggle-label {
        background-color: var(--accent);
    }
</style>
{% endblock %}

{% block sidebar %}
{% include 'partials/seller_sidebar.html' with active_page='settings' %}
{% endblock %}

{% block content %}
<div class="space-y-2">
    <h1 class="text-3xl font-bold text-[var(--foreground)]">Settings</h1>
    <p class="text-[var(--muted-foreground)]">Manage your account preferences and notifications</p>
</div>

<!-- Notifications Section -->
<div class="bg-[var(--card)] rounded-lg border border-[var(--border)] overflow-hidden">
    <div class="px-6 py-4 border-b border-[var(--border)]">
        <h2 class="text-lg font-semibold text-[var(--foreground)]">Notifications</h2>
        <p class="text-sm text-[var(--muted-foreground)]">Control how you want to be notified</p>
    </div>

    <div class="p-6 space-y-6">
        <div class="flex items-center justify-between">
            <div class="space-y-0.5">
                <label class="text-base font-medium text-[var(--foreground)]">Showing Requests</label>
                <p class="text-sm text-[var(--muted-foreground)]">Receive alerts when buyers request to see your
                    property</p>
            </div>
            <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                <input type="checkbox" name="toggle" id="showing-alerts" checked
                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-[var(--input)] checked:right-0 checked:border-[var(--accent)]" />
                <label for="showing-alerts"
                    class="toggle-label block overflow-hidden h-6 rounded-full bg-[var(--input)] cursor-pointer"></label>
            </div>
        </div>

        <div class="flex items-center justify-between border-t border-[var(--border)] pt-6">
            <div class="space-y-0.5">
                <label class="text-base font-medium text-[var(--foreground)]">Offer Alerts</label>
                <p class="text-sm text-[var(--muted-foreground)]">Receive instant notification for new offers</p>
            </div>
            <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                <input type="checkbox" name="toggle" id="offer-alerts" checked
                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-[var(--input)] checked:right-0 checked:border-[var(--accent)]" />
                <label for="offer-alerts"
                    class="toggle-label block overflow-hidden h-6 rounded-full bg-[var(--input)] cursor-pointer"></label>
            </div>
        </div>

        <div class="flex items-center justify-between border-t border-[var(--border)] pt-6">
            <div class="space-y-0.5">
                <label class="text-base font-medium text-[var(--foreground)]">Marketing Emails</label>
                <p class="text-sm text-[var(--muted-foreground)]">Receive news, updates, and promotional offers</p>
            </div>
            <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                <input type="checkbox" name="toggle" id="marketing-emails"
                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-[var(--input)] checked:right-0 checked:border-[var(--accent)]" />
                <label for="marketing-emails"
                    class="toggle-label block overflow-hidden h-6 rounded-full bg-[var(--input)] cursor-pointer"></label>
            </div>
        </div>
    </div>
</div>

<!-- Password Section -->
<div class="bg-[var(--card)] rounded-lg border border-[var(--border)] overflow-hidden">
    <div class="px-6 py-4 border-b border-[var(--border)]">
        <h2 class="text-lg font-semibold text-[var(--foreground)]">Password and Security</h2>
        <p class="text-sm text-[var(--muted-foreground)]">Update your password to keep your account secure</p>
    </div>

    <div class="p-6 space-y-4">
        <div class="space-y-2">
            <label class="text-sm font-medium text-[var(--foreground)]">Current Password</label>
            <div class="relative">
                <input type="password" id="current-password" autocomplete="current-password"
                    class="w-full px-3 py-2 bg-[var(--input)] border border-[var(--border)] rounded-md text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)] pr-10">
                <button type="button" onclick="togglePasswordVisibility('current-password', this)"
                    class="absolute inset-y-0 right-0 flex items-center pr-3 text-[var(--muted-foreground)] hover:text-[var(--foreground)]">
                    <i data-lucide="eye" class="h-5 w-5"></i>
                </button>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="space-y-2">
                <label class="text-sm font-medium text-[var(--foreground)]">New Password</label>
                <div class="relative">
                    <input type="password" id="new-password" autocomplete="new-password"
                        class="w-full px-3 py-2 bg-[var(--input)] border border-[var(--border)] rounded-md text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)] pr-10">
                    <button type="button" onclick="togglePasswordVisibility('new-password', this)"
                        class="absolute inset-y-0 right-0 flex items-center pr-3 text-[var(--muted-foreground)] hover:text-[var(--foreground)]">
                        <i data-lucide="eye" class="h-5 w-5"></i>
                    </button>
                </div>
            </div>
            <div class="space-y-2">
                <label class="text-sm font-medium text-[var(--foreground)]">Confirm New Password</label>
                <div class="relative">
                    <input type="password" id="confirm-password" autocomplete="new-password"
                        class="w-full px-3 py-2 bg-[var(--input)] border border-[var(--border)] rounded-md text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)] pr-10">
                    <button type="button" onclick="togglePasswordVisibility('confirm-password', this)"
                        class="absolute inset-y-0 right-0 flex items-center pr-3 text-[var(--muted-foreground)] hover:text-[var(--foreground)]">
                        <i data-lucide="eye" class="h-5 w-5"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="pt-4">
            <button id="update-password-btn"
                class="px-4 py-2 bg-[var(--accent)] text-[var(--bg)] rounded-md hover:bg-[var(--accent-hover)] transition-colors font-medium">
                Update Password
            </button>
        </div>
    </div>
</div>

<!-- Delete Account Section -->
<div class="bg-[var(--card)] rounded-lg border border-red-900/50 overflow-hidden">
    <div class="px-6 py-4 border-b border-red-900/50 bg-red-900/10">
        <h2 class="text-lg font-semibold text-red-500">Danger Zone</h2>
        <p class="text-sm text-red-400/80">Irreversible actions for your account</p>
    </div>

    <div class="p-6">
        <div class="flex items-center justify-between">
            <div class="space-y-0.5">
                <label class="text-base font-medium text-[var(--foreground)]">Delete Account</label>
                <p class="text-sm text-[var(--muted-foreground)]">Permanently delete your account and all data</p>
            </div>
            <button onclick="confirmDelete()"
                class="px-4 py-2 border border-red-600 text-red-500 rounded-md hover:bg-red-600 hover:text-white transition-colors font-medium">
                Delete Account
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
{% include 'partials/settings_script.html' %}
{% endblock %}