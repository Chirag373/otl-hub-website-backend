<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Partners | OTL Platform</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arima:wght@100..700&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Arima', 'system-ui', 'sans-serif'],
                        heading: ['Arima', 'system-ui', 'sans-serif'],
                        body: ['Arima', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                            hover: "var(--accent-hover)",
                        },
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --radius: 0.625rem;
            --bg: #2a2a2a;
            --card: #3a3a3a;
            --muted: #c0c0c0;
            --accent: #d4af37;
            --accent-hover: #e0c066;
            --border: #4a4a4a;

            /* Dark theme mappings */
            --background: #2a2a2a;
            --foreground: #f3f4f6;
            --card-foreground: #f3f4f6;
            --popover: #3a3a3a;
            --popover-foreground: #f3f4f6;
            --primary: #d4af37;
            --primary-foreground: #2a2a2a;
            --secondary: #464646;
            --secondary-foreground: #f3f4f6;
            --muted: #464646;
            --muted-foreground: #c0c0c0;
            --accent-foreground: #2a2a2a;
            --destructive: #dc2626;
            --input: #464646;
            --ring: #d4af37;
        }

        body {
            background-color: var(--bg);
            color: var(--foreground);
            font-family: 'Arima', sans-serif;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .font-heading {
            font-family: "Arima", sans-serif;
            font-weight: 600;
        }

        .line-clamp-1 {
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">

    <header class="fixed inset-x-0 top-0 z-50 bg-[var(--bg)] border-b border-neutral-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="h-16 flex items-center justify-between">
                <a href="index.html" class="font-heading text-2xl text-[#f3f4f6]">
                    OTL Platform
                </a>

                <nav class="hidden md:flex items-center gap-6" aria-label="Primary">
                    <a class="font-heading text-base text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors"
                        href="index.html">Home</a>
                    <a class="font-heading text-base text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors"
                        href="about.html">About Us</a>
                    <a class="font-heading text-base text-[#d4af37] font-semibold transition-colors"
                        href="#">Partners</a>

                    <a href="signup.html"
                        class="font-heading text-base px-4 py-2 border border-[#4a4a4a] rounded-lg text-[#c0c0c0] hover:bg-[#464646] hover:text-[#f3f4f6] transition-colors">
                        Sign Up
                    </a>
                    <a href="login.html"
                        class="font-heading text-base px-4 py-2 rounded-lg text-[#2a2a2a] bg-[#d4af37] hover:bg-[#e0c066] transition-colors">
                        Login
                    </a>
                </nav>

                <button id="mobile-menu-btn"
                    class="md:hidden p-3 text-[#c0c0c0] hover:text-[#f3f4f6] hover:bg-[#464646] rounded-lg transition-colors">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                    <span class="sr-only">Open menu</span>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="hidden fixed inset-0 z-50 bg-black/50">
            <div
                class="absolute right-0 top-0 h-full w-80 bg-[var(--bg)] border-l border-[#4a4a4a] p-6 shadow-xl transform transition-transform">
                <div class="flex justify-end mb-6">
                    <button id="close-menu-btn" class="p-2 text-[#c0c0c0] hover:text-[#f3f4f6]">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="flex flex-col gap-1">
                    <a href="index.html"
                        class="font-heading text-base py-2 px-3 rounded-lg text-[#c0c0c0] hover:text-[#f3f4f6] hover:bg-[#464646]">Home</a>
                    <a href="about.html"
                        class="font-heading text-base py-2 px-3 rounded-lg text-[#c0c0c0] hover:text-[#f3f4f6] hover:bg-[#464646]">About
                        Us</a>
                    <a href="#"
                        class="font-heading text-base py-2 px-3 rounded-lg text-[#d4af37] font-semibold bg-[#464646]/50">Partners</a>
                    <div class="border-t border-[#4a4a4a] my-4"></div>
                    <a href="signup.html"
                        class="font-heading text-base text-[#c0c0c0] hover:text-[#f3f4f6] py-2 px-3 rounded-lg hover:bg-[#464646]">Sign
                        Up</a>
                    <a href="login.html"
                        class="font-heading text-base text-[#d4af37] hover:text-[#e0c066] py-2 px-3 rounded-lg hover:bg-[#464646] font-semibold w-full text-left">
                        Login
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main class="pt-16 flex-1">
        <div class="max-w-7xl mx-auto px-6 py-8">

            <div class="text-center mb-8">
                <div class="flex items-center justify-center gap-3 mb-6">
                    <i data-lucide="users" class="w-8 h-8 text-[var(--accent)]"></i>
                    <h1 class="font-heading text-4xl text-[var(--foreground)]">
                        Our Partners
                    </h1>
                </div>
                <p class="font-heading text-xl text-[var(--accent)] mb-4 max-w-3xl mx-auto">
                    Connect with experienced real estate professionals across Texas
                </p>
                <p class="text-lg text-[var(--muted-foreground)] max-w-2xl mx-auto mb-8">
                    Our network of licensed professionals are here to help you find your
                    perfect property, whether you're buying, selling, or investing
                    in Texas real estate.
                </p>
            </div>

            <div class="bg-[var(--card)] rounded-2xl border border-[var(--border)] p-6 mb-8">
                <div class="relative mb-4">
                    <i data-lucide="search"
                        class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[var(--muted-foreground)]"></i>
                    <input type="text" id="partner-search-input"
                        placeholder="Search partners by name, city, county, address, business description, or serving area..."
                        class="w-full pl-12 pr-4 py-3 bg-[var(--muted)] border border-[var(--border)] rounded-xl text-[var(--foreground)] placeholder-[var(--muted-foreground)] focus:outline-none focus:border-[var(--accent)] focus:ring-1 focus:ring-[var(--accent)]" />
                </div>

                <div class="flex items-center justify-between mb-4">
                    <button id="toggle-filters-btn"
                        class="flex items-center gap-2 font-heading text-sm px-4 py-2 border border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--muted)] hover:text-[var(--foreground)] rounded-lg transition-colors">
                        <i data-lucide="filter" class="w-4 h-4"></i>
                        <span id="filter-btn-text">Show Filters</span>
                    </button>

                    <button id="clear-filters-btn"
                        class="hidden flex items-center gap-2 font-heading text-sm px-3 py-2 text-[var(--accent)] hover:bg-[var(--accent)]/10 rounded-lg transition-colors">
                        <i data-lucide="x" class="w-4 h-4"></i>
                        Clear Filters
                    </button>
                </div>

                <div id="filter-options"
                    class="hidden grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-[var(--border)]">
                    <div class="space-y-2">
                        <label class="font-heading text-sm font-medium text-[var(--foreground)]">
                            Location
                        </label>
                        <select id="location-select"
                            class="w-full px-3 py-2 bg-[var(--muted)] border border-[var(--border)] rounded-lg text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)]">
                            <option value="">All Locations</option>
                            <option value="Houston">Houston</option>
                            <option value="Dallas">Dallas</option>
                            <option value="Austin">Austin</option>
                            <option value="San Antonio">San Antonio</option>
                            <option value="Fort Worth">Fort Worth</option>
                            <option value="Plano">Plano</option>
                        </select>
                    </div>

                    <div class="space-y-2">
                        <label class="font-heading text-sm font-medium text-[var(--foreground)]">
                            Language
                        </label>
                        <select id="language-select"
                            class="w-full px-3 py-2 bg-[var(--muted)] border border-[var(--border)] rounded-lg text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)]">
                            <option value="">All Languages</option>
                            <option value="English">English</option>
                            <option value="Spanish">Spanish</option>
                            <option value="Mandarin">Mandarin</option>
                            <option value="Korean">Korean</option>
                            <option value="Vietnamese">Vietnamese</option>
                            <option value="French">French</option>
                        </select>
                    </div>
                </div>

                <div id="active-filters-display"
                    class="hidden flex flex-wrap gap-2 mt-4 pt-4 border-t border-[var(--border)]">
                    <span class="font-heading text-sm text-[var(--muted-foreground)]">
                        Active filters:
                    </span>
                    <span id="active-location"
                        class="hidden bg-[var(--accent)]/10 text-[var(--accent)] text-xs px-3 py-1 rounded-full border border-[var(--accent)]/20"></span>
                    <span id="active-language"
                        class="hidden bg-[var(--accent)]/10 text-[var(--accent)] text-xs px-3 py-1 rounded-full border border-[var(--accent)]/20"></span>
                </div>
            </div>

            <div class="mb-6">
                <p class="text-lg text-[var(--foreground)]">
                    <span id="result-count" class="font-semibold text-[var(--accent)]">0</span>
                    <span id="result-text">partners</span> found
                </p>
            </div>

            <div id="partners-container">
            </div>

        </div>
    </main>

    <footer class="bg-[#3a3a3a] border-t border-[#4a4a4a] py-8 px-4">
        <div class="max-w-7xl mx-auto text-center">
            <p class="font-body text-lg text-[#c0c0c0] mb-4">
                Â© 2025 OTL Platform. All Rights Reserved.
            </p>
            <nav class="flex flex-wrap justify-center gap-4 font-heading text-base" aria-label="Footer">
                <a class="text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors" href="index.html">Home</a>
                <span class="text-[#4a4a4a]">|</span>
                <a class="text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors" href="about.html">About Us</a>
                <span class="text-[#4a4a4a]">|</span>
                <a class="text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors" href="login.html">Login</a>
                <span class="text-[#4a4a4a]">|</span>
                <a class="text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors" href="#">Terms of Service</a>
                <span class="text-[#4a4a4a]">|</span>
                <a class="text-[#c0c0c0] hover:text-[#f3f4f6] transition-colors" href="#">Privacy Policy</a>
            </nav>
        </div>
    </footer>

    <script>
        // --- DATA ---
        // Sourced from src/lib/partner-data.ts
        const samplePartners = [
            {
                id: "1",
                firstName: "Sarah",
                lastName: "Johnson",
                title: "Senior Partner",
                category: "Real Estate Agent",
                licensedIn: "TX",
                phone: "(713) 555-0123",
                email: "sarah.johnson@otl-partner.com",
                city: "Houston",
                county: "Harris County",
                companyAddress: "1234 Main Street, Houston, TX 77001",
                businessDescription: "Sarah Johnson is Houston's premier luxury real estate specialist...",
                review: "Outstanding service and market knowledge. Sarah helped us find our dream home in River Oaks!",
                servingCities: "Houston, Bellaire, West University Place, River Oaks, Memorial, Katy, Sugar Land, The Woodlands",
                office: "OTL Houston Central",
                experience: "15+ years",
                languages: ["English", "Spanish"],
                bio: "Sarah Johnson has been helping clients find their dream properties for over 15 years. Specializing in luxury homes..."
            },
            {
                id: "2",
                firstName: "Michael",
                lastName: "Rodriguez",
                title: "Associate Partner",
                category: "Real Estate Agent",
                licensedIn: "TX",
                phone: "(214) 555-0456",
                email: "michael.rodriguez@otl-partner.com",
                city: "Dallas",
                county: "Dallas County",
                companyAddress: "5678 Oak Avenue, Dallas, TX 75201",
                businessDescription: "Michael Rodriguez is a dedicated real estate professional specializing in first-time home buyers...",
                review: "Michael made our first home buying experience stress-free and enjoyable. Highly recommend!",
                servingCities: "Dallas, Fort Worth, Arlington, Plano, Irving, Garland, Grand Prairie, Mesquite, Carrollton",
                office: "OTL Dallas Metro",
                experience: "8+ years",
                languages: ["English", "Spanish"],
                bio: "Michael Rodriguez specializes in helping first-time buyers and families relocate to the Dallas area..."
            },
            {
                id: "3",
                firstName: "Emily",
                lastName: "Chen",
                title: "Associate Partner",
                category: "Real Estate Agent",
                licensedIn: "TX",
                phone: "(512) 555-0789",
                email: "emily.chen@otl-partner.com",
                city: "Austin",
                county: "Travis County",
                companyAddress: "9012 Tech Boulevard, Austin, TX 78701",
                businessDescription: "Emily Chen is Austin's leading tech district specialist...",
                review: "Emily understood exactly what we needed in Austin's competitive market. Found us the perfect tech-savvy home!",
                servingCities: "Austin, Round Rock, Cedar Park, Georgetown, Pflugerville, Leander, Manor, Buda, Kyle",
                office: "OTL Austin Tech",
                experience: "6+ years",
                languages: ["English", "Mandarin"],
                bio: "Emily Chen focuses on Austin's growing tech district and modern architectural homes..."
            },
            {
                id: "4",
                firstName: "David",
                lastName: "Thompson",
                title: "Senior Partner",
                category: "Real Estate Agent",
                licensedIn: "TX",
                phone: "(210) 555-0321",
                email: "david.thompson@otl-partner.com",
                city: "San Antonio",
                county: "Bexar County",
                companyAddress: "3456 Historic Plaza, San Antonio, TX 78201",
                businessDescription: "David Thompson is San Antonio's premier historic properties and military relocation expert...",
                review: "David's expertise in historic properties is unmatched. He helped us preserve and restore our 1920s home beautifully!",
                servingCities: "San Antonio, New Braunfels, Schertz, Cibolo, Converse, Live Oak, Universal City, Alamo Heights, Terrell Hills",
                office: "OTL San Antonio Historic",
                experience: "20+ years",
                languages: ["English"],
                bio: "With over 20 years of experience, David Thompson is the go-to expert for historic properties and military relocations..."
            },
            {
                id: "5",
                firstName: "Lisa",
                lastName: "Martinez",
                title: "Associate Partner",
                category: "Real Estate Agent",
                licensedIn: "TX",
                phone: "(817) 555-0654",
                email: "lisa.martinez@otl-partner.com",
                city: "Fort Worth",
                county: "Tarrant County",
                companyAddress: "7890 Western Drive, Fort Worth, TX 76101",
                businessDescription: "Lisa Martinez is Fort Worth's leading suburban and new construction specialist...",
                review: "Lisa guided us through the entire new construction process. Our home is exactly what we dreamed of!",
                servingCities: "Fort Worth, Arlington, Mansfield, Burleson, North Richland Hills, Hurst, Euless, Bedford, Keller",
                office: "OTL Fort Worth West",
                experience: "10+ years",
                languages: ["English", "Spanish"],
                bio: "Lisa Martinez specializes in suburban family homes and new construction. Her knowledge of Fort Worth's growing communities..."
            },
            {
                id: "6",
                firstName: "Robert",
                lastName: "Kim",
                title: "Associate Partner",
                category: "Real Estate Agent",
                licensedIn: "TX",
                phone: "(469) 555-0987",
                email: "robert.kim@otl-partner.com",
                city: "Plano",
                county: "Collin County",
                companyAddress: "1111 Corporate Center, Plano, TX 75001",
                businessDescription: "Robert Kim is Plano's premier corporate relocation and luxury property specialist...",
                review: "Robert handled our corporate relocation seamlessly. Professional, efficient, and truly understands business needs!",
                servingCities: "Plano, Frisco, McKinney, Allen, Richardson, Garland, Sachse, Murphy, Parker",
                office: "OTL Plano Corporate",
                experience: "12+ years",
                languages: ["English", "Korean"],
                bio: "Robert Kim works extensively with corporate clients and specializes in luxury condominiums and investment properties in Plano..."
            }
        ];

        const categoryOrder = [
            "Lender",
            "Title Company",
            "Home Inspector",
            "Insurance",
            "Contractor",
            "Real Estate Agent",
            "Other",
        ];

        // --- DOM ELEMENTS ---
        const searchInput = document.getElementById('partner-search-input');
        const locationSelect = document.getElementById('location-select');
        const languageSelect = document.getElementById('language-select');
        const toggleFiltersBtn = document.getElementById('toggle-filters-btn');
        const filterBtnText = document.getElementById('filter-btn-text');
        const filterOptions = document.getElementById('filter-options');
        const clearFiltersBtn = document.getElementById('clear-filters-btn');
        const activeFiltersDisplay = document.getElementById('active-filters-display');
        const activeLocationBadge = document.getElementById('active-location');
        const activeLanguageBadge = document.getElementById('active-language');
        const partnersContainer = document.getElementById('partners-container');
        const resultCountSpan = document.getElementById('result-count');
        const resultTextSpan = document.getElementById('result-text');

        // --- STATE ---
        let filters = {
            search: "",
            location: "",
            language: ""
        };

        // --- INITIALIZATION ---
        function init() {
            lucide.createIcons();
            renderPartners();
            setupEventListeners();
        }

        // --- FILTER LOGIC ---
        function getFilteredPartners() {
            return samplePartners.filter(partner => {
                const searchLower = filters.search.toLowerCase();
                const matchesSearch =
                    `${partner.firstName} ${partner.lastName}`.toLowerCase().includes(searchLower) ||
                    partner.city.toLowerCase().includes(searchLower) ||
                    partner.county.toLowerCase().includes(searchLower) ||
                    partner.office.toLowerCase().includes(searchLower) ||
                    partner.companyAddress.toLowerCase().includes(searchLower) ||
                    partner.businessDescription.toLowerCase().includes(searchLower) ||
                    partner.servingCities.toLowerCase().includes(searchLower) ||
                    partner.bio.toLowerCase().includes(searchLower);

                const matchesLocation = !filters.location || filters.location === "All Locations" || partner.city === filters.location;
                const matchesLanguage = !filters.language || partner.languages.includes(filters.language);

                return matchesSearch && matchesLocation && matchesLanguage;
            });
        }

        function groupPartners(partners) {
            const groups = {};
            partners.forEach(partner => {
                const key = partner.category || "Other";
                if (!groups[key]) groups[key] = [];
                groups[key].push(partner);
            });
            return groups;
        }

        // --- RENDERING ---
        function renderPartners() {
            const filtered = getFilteredPartners();
            const grouped = groupPartners(filtered);

            // Update stats
            resultCountSpan.textContent = filtered.length;
            resultTextSpan.textContent = filtered.length === 1 ? 'partner' : 'partners';

            // Clear container
            partnersContainer.innerHTML = '';

            if (filtered.length === 0) {
                partnersContainer.innerHTML = `
                    <div class="text-center py-16">
                        <div class="bg-[var(--card)] rounded-2xl border border-[var(--border)] p-12 max-w-md mx-auto">
                            <i data-lucide="users" class="w-16 h-16 text-[var(--muted-foreground)] mx-auto mb-6"></i>
                            <h3 class="font-heading text-2xl text-[var(--foreground)] mb-4">No partners found</h3>
                            <p class="text-[var(--muted-foreground)] mb-6">Try adjusting your search criteria or filters to find the right partners for your needs.</p>
                        </div>
                    </div>
                `;
                lucide.createIcons();
                return;
            }

            // Determine rendering order
            const availableCategories = Object.keys(grouped);
            const sortedCategories = [
                ...categoryOrder.filter(c => availableCategories.includes(c)),
                ...availableCategories.filter(c => !categoryOrder.includes(c))
            ];

            // Render Sections
            sortedCategories.forEach(category => {
                const categoryPartners = grouped[category];
                if (!categoryPartners || categoryPartners.length === 0) return;

                const section = document.createElement('section');
                section.className = 'mb-12';

                const gridHtml = categoryPartners.map(partner => createPartnerCardHtml(partner)).join('');

                section.innerHTML = `
                    <div class="flex items-baseline justify-between mb-4">
                        <h2 class="font-heading text-2xl text-[var(--foreground)]">${category}</h2>
                        <span class="text-sm text-[var(--muted-foreground)]">
                            ${categoryPartners.length} ${categoryPartners.length === 1 ? 'partner' : 'partners'}
                        </span>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        ${gridHtml}
                    </div>
                `;
                partnersContainer.appendChild(section);
            });

            lucide.createIcons();
        }

        function createPartnerCardHtml(partner) {
            return `
                <article class="bg-[var(--card)] rounded-xl overflow-hidden border border-[var(--border)] shadow-md hover:shadow-lg transition-all duration-300 hover:border-[var(--accent)]/30">
                    <div class="p-5">
                        <div class="flex gap-4 mb-4">
                            <div class="flex-shrink-0">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-[var(--accent)]/20 to-[var(--accent)]/10 flex items-center justify-center border-2 border-[var(--accent)]/30">
                                    <i data-lucide="user" class="w-8 h-8 text-[var(--accent)]"></i>
                                </div>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h3 class="font-heading text-xl font-bold text-[var(--foreground)] mb-1">
                                    ${partner.firstName} ${partner.lastName}
                                </h3>
                                <p class="font-medium text-[var(--accent)] text-sm mb-3">${partner.title}</p>
                                <div class="grid grid-cols-1 gap-2 mb-3">
                                    <div class="flex items-center gap-2 text-sm text-[var(--muted-foreground)]">
                                        <i data-lucide="award" class="w-4 h-4"></i>
                                        <span>Licensed in ${partner.licensedIn}</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-sm text-[var(--muted-foreground)]">
                                        <i data-lucide="clock" class="w-4 h-4"></i>
                                        <span>${partner.experience}</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-sm text-[var(--muted-foreground)]">
                                        <i data-lucide="map-pin" class="w-4 h-4"></i>
                                        <span>${partner.city}, ${partner.county}</span>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="flex items-center gap-2 text-sm text-[var(--muted-foreground)]">
                                        <i data-lucide="building-2" class="w-4 h-4"></i>
                                        <span class="line-clamp-1">${partner.office}</span>
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <p class="text-sm text-[var(--muted-foreground)]">
                                        <span class="font-medium">Languages:</span> ${partner.languages.join(", ")}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4 px-5">
                            <div class="bg-[var(--muted)]/10 rounded-lg p-3 border border-[var(--border)]">
                                <div class="text-sm text-[var(--foreground)] leading-relaxed line-clamp-2">
                                    ${partner.bio}
                                </div>
                                <button class="flex items-center gap-1 mt-2 text-xs text-[var(--accent)] hover:text-[var(--accent-hover)] transition-colors font-medium">
                                    <i data-lucide="file-text" class="w-3 h-3"></i> Show More
                                </button>
                            </div>
                        </div>
                        <div class="border-t border-[var(--border)] pt-4">
                            <div class="flex">
                                <button class="w-full font-heading text-sm font-semibold px-4 py-2 bg-gradient-to-r from-[var(--accent)] to-[var(--accent-hover)] text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center">
                                    <i data-lucide="mail" class="w-4 h-4 mr-2"></i> Contact
                                </button>
                            </div>
                        </div>
                    </div>
                </article>
            `;
        }

        function updateUIControls() {
            // Toggle Clear button logic
            const hasFilters = filters.location || filters.language;
            if (hasFilters) {
                clearFiltersBtn.classList.remove('hidden');
                activeFiltersDisplay.classList.remove('hidden');
                activeFiltersDisplay.classList.add('flex');
            } else {
                clearFiltersBtn.classList.add('hidden');
                activeFiltersDisplay.classList.add('hidden');
                activeFiltersDisplay.classList.remove('flex');
            }

            // Update Badges
            if (filters.location) {
                activeLocationBadge.textContent = `Location: ${filters.location}`;
                activeLocationBadge.classList.remove('hidden');
            } else {
                activeLocationBadge.classList.add('hidden');
            }

            if (filters.language) {
                activeLanguageBadge.textContent = `Language: ${filters.language}`;
                activeLanguageBadge.classList.remove('hidden');
            } else {
                activeLanguageBadge.classList.add('hidden');
            }
        }

        // --- EVENT LISTENERS ---
        function setupEventListeners() {
            // Mobile Menu
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeMenuBtn = document.getElementById('close-menu-btn');
            const toggleMenu = () => mobileMenu.classList.toggle('hidden');
            mobileMenuBtn.addEventListener('click', toggleMenu);
            closeMenuBtn.addEventListener('click', toggleMenu);

            // Filter Toggle
            toggleFiltersBtn.addEventListener('click', () => {
                filterOptions.classList.toggle('hidden');
                filterBtnText.textContent = filterOptions.classList.contains('hidden') ? "Show Filters" : "Hide Filters";
            });

            // Inputs
            searchInput.addEventListener('input', (e) => {
                filters.search = e.target.value;
                renderPartners();
            });

            locationSelect.addEventListener('change', (e) => {
                filters.location = e.target.value;
                updateUIControls();
                renderPartners();
            });

            languageSelect.addEventListener('change', (e) => {
                filters.language = e.target.value;
                updateUIControls();
                renderPartners();
            });

            // Clear Filters
            clearFiltersBtn.addEventListener('click', () => {
                filters.search = "";
                filters.location = "";
                filters.language = "";

                searchInput.value = "";
                locationSelect.value = "";
                languageSelect.value = "";

                updateUIControls();
                renderPartners();
            });
        }

        // Run
        init();
    </script>
</body>

</html>