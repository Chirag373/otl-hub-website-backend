<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings | OTL Platform</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arima:wght@100..700&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Arima', 'system-ui', 'sans-serif'],
                        heading: ['Arima', 'system-ui', 'sans-serif'],
                        body: ['Arima', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                            hover: "var(--accent-hover)",
                        },
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                    },
                }
            }
        }
    </script>

    <style>
        :root {
            --radius: 0.625rem;
            --bg: #2a2a2a;
            --card: #3a3a3a;
            --muted: #c0c0c0;
            --accent: #d4af37;
            --accent-hover: #e0c066;
            --border: #4a4a4a;

            --background: #2a2a2a;
            --foreground: #f3f4f6;
            --card-foreground: #f3f4f6;
            --popover: #3a3a3a;
            --popover-foreground: #f3f4f6;
            --primary: #d4af37;
            --primary-foreground: #2a2a2a;
            --secondary: #464646;
            --secondary-foreground: #f3f4f6;
            --muted: #464646;
            --muted-foreground: #c0c0c0;
            --accent-foreground: #2a2a2a;
            --destructive: #dc2626;
            --input: #464646;
            --ring: #d4af37;
        }

        body {
            background-color: var(--bg);
            color: var(--foreground);
            font-family: 'Arima', sans-serif;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }
        
        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }

        /* Toggle Switch Styles */
        .toggle-checkbox:checked {
            right: 0;
            border-color: var(--accent);
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: var(--accent);
        }
    </style>
</head>
<body class="min-h-screen bg-[var(--bg)]">

    <div class="lg:hidden fixed top-0 left-0 right-0 z-50 bg-[var(--card)] border-b border-[var(--border)] px-4 py-3 flex items-center justify-between">
        <span class="font-bold text-lg text-[var(--foreground)]">OTL Dashboard</span>
        <button id="mobile-menu-btn" class="p-2 rounded-md border border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-black transition-colors">
            <i data-lucide="menu" class="w-5 h-5"></i>
        </button>
    </div>

    <aside id="sidebar" class="fixed inset-y-0 left-0 z-40 w-64 bg-[var(--card)] border-r border-[var(--border)] transform -translate-x-full lg:translate-x-0 sidebar-transition flex flex-col">
        <div class="flex items-center justify-center h-16 px-6 border-b border-[var(--border)]">
            <h1 class="font-heading text-xl font-bold text-[var(--foreground)]">
                OTL Dashboard
            </h1>
        </div>

        <div class="px-6 py-4 border-b border-[var(--border)]">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-[var(--accent)] rounded-full flex items-center justify-center">
                    <span class="text-[var(--bg)] font-semibold text-sm">JD</span>
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-[var(--foreground)] truncate">John Doe</p>
                    <p class="text-xs text-[var(--muted-foreground)] truncate capitalize">Buyer</p>
                </div>
            </div>
        </div>

        <nav class="flex-1 px-4 py-6 space-y-2">
            <a href="{% url 'buyer_dashboard' %}" class="flex items-center w-full px-4 py-2 text-sm font-medium rounded-md text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-black transition-colors">
                <i data-lucide="home" class="mr-3 h-4 w-4"></i> Dashboard
            </a>
            <a href="{% url 'buyer_property_search' %}" class="flex items-center w-full px-4 py-2 text-sm font-medium rounded-md text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-black transition-colors">
                <i data-lucide="search" class="mr-3 h-4 w-4"></i> Property Search
            </a>
            <a href="{% url 'buyer_favorites' %}" class="flex items-center w-full px-4 py-2 text-sm font-medium rounded-md text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-black transition-colors">
                <i data-lucide="heart" class="mr-3 h-4 w-4"></i> Favorites
            </a>
            <a href="#" class="flex items-center w-full px-4 py-2 text-sm font-medium rounded-md text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-black transition-colors">
                <i data-lucide="message-square" class="mr-3 h-4 w-4"></i> Messages
            </a>
            <a href="{% url 'buyer_settings' %}" class="flex items-center w-full px-4 py-2 text-sm font-medium rounded-md bg-[var(--accent)] text-[var(--bg)]">
                <i data-lucide="settings" class="mr-3 h-4 w-4"></i> Settings
            </a>
        </nav>

        <div class="p-4 border-t border-[var(--border)]">
            <a href="{% url 'login' %}" class="flex items-center w-full px-4 py-2 text-sm font-medium rounded-md text-[var(--foreground)] hover:bg-yellow-500 hover:text-black transition-colors">
                <i data-lucide="log-out" class="mr-3 h-4 w-4"></i> Sign Out
            </a>
        </div>
    </aside>

    <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-30 hidden lg:hidden"></div>

    <div class="lg:pl-64 pt-16 lg:pt-0">
        <main class="min-h-screen bg-[var(--bg)]">
            <div class="w-full max-w-4xl mx-auto px-6 py-8 space-y-8">
                
                <div class="space-y-2">
                    <h1 class="text-3xl font-bold text-[var(--foreground)]">Settings</h1>
                    <p class="text-[var(--muted-foreground)]">Manage your account preferences and notifications</p>
                </div>

                <!-- Notifications Section -->
                <div class="bg-[var(--card)] rounded-lg border border-[var(--border)] overflow-hidden">
                    <div class="px-6 py-4 border-b border-[var(--border)]">
                        <h2 class="text-lg font-semibold text-[var(--foreground)]">Notifications</h2>
                        <p class="text-sm text-[var(--muted-foreground)]">Control how you want to be notified</p>
                    </div>
                    
                    <div class="p-6 space-y-6">
                        <div class="flex items-center justify-between">
                            <div class="space-y-0.5">
                                <label class="text-base font-medium text-[var(--foreground)]">Email Alerts</label>
                                <p class="text-sm text-[var(--muted-foreground)]">Receive updates about new properties matching your searches</p>
                            </div>
                            <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                                <input type="checkbox" name="toggle" id="email-alerts" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-[var(--input)] checked:right-0 checked:border-[var(--accent)]"/>
                                <label for="email-alerts" class="toggle-label block overflow-hidden h-6 rounded-full bg-[var(--input)] cursor-pointer"></label>
                            </div>
                        </div>

                        <div class="flex items-center justify-between border-t border-[var(--border)] pt-6">
                            <div class="space-y-0.5">
                                <label class="text-base font-medium text-[var(--foreground)]">Marketing Emails</label>
                                <p class="text-sm text-[var(--muted-foreground)]">Receive news, updates, and promotional offers</p>
                            </div>
                            <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                                <input type="checkbox" name="toggle" id="marketing-emails" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-[var(--input)] checked:right-0 checked:border-[var(--accent)]"/>
                                <label for="marketing-emails" class="toggle-label block overflow-hidden h-6 rounded-full bg-[var(--input)] cursor-pointer"></label>
                            </div>
                        </div>

                        <div class="flex items-center justify-between border-t border-[var(--border)] pt-6">
                            <div class="space-y-0.5">
                                <label class="text-base font-medium text-[var(--foreground)]">Push Notifications</label>
                                <p class="text-sm text-[var(--muted-foreground)]">Receive notifications on your device</p>
                            </div>
                            <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                                <input type="checkbox" name="toggle" id="push-notifs" checked class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-[var(--input)] checked:right-0 checked:border-[var(--accent)]"/>
                                <label for="push-notifs" class="toggle-label block overflow-hidden h-6 rounded-full bg-[var(--input)] cursor-pointer"></label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Password Section -->
                <div class="bg-[var(--card)] rounded-lg border border-[var(--border)] overflow-hidden">
                    <div class="px-6 py-4 border-b border-[var(--border)]">
                        <h2 class="text-lg font-semibold text-[var(--foreground)]">Password & Security</h2>
                        <p class="text-sm text-[var(--muted-foreground)]">Update your password to keep your account secure</p>
                    </div>
                    
                    <div class="p-6 space-y-4">
                        <div class="space-y-2">
                            <label class="text-sm font-medium text-[var(--foreground)]">Current Password</label>
                            <input type="password" class="w-full px-3 py-2 bg-[var(--input)] border border-[var(--border)] rounded-md text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)]">
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-[var(--foreground)]">New Password</label>
                                <input type="password" class="w-full px-3 py-2 bg-[var(--input)] border border-[var(--border)] rounded-md text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)]">
                            </div>
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-[var(--foreground)]">Confirm New Password</label>
                                <input type="password" class="w-full px-3 py-2 bg-[var(--input)] border border-[var(--border)] rounded-md text-[var(--foreground)] focus:outline-none focus:border-[var(--accent)]">
                            </div>
                        </div>
                        <div class="pt-4">
                            <button class="px-4 py-2 bg-[var(--accent)] text-[var(--bg)] rounded-md hover:bg-[var(--accent-hover)] transition-colors font-medium">
                                Update Password
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Delete Account Section -->
                <div class="bg-[var(--card)] rounded-lg border border-red-900/50 overflow-hidden">
                    <div class="px-6 py-4 border-b border-red-900/50 bg-red-900/10">
                        <h2 class="text-lg font-semibold text-red-500">Danger Zone</h2>
                        <p class="text-sm text-red-400/80">Irreversible actions for your account</p>
                    </div>
                    
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div class="space-y-0.5">
                                <label class="text-base font-medium text-[var(--foreground)]">Delete Account</label>
                                <p class="text-sm text-[var(--muted-foreground)]">Permanently delete your account and all data</p>
                            </div>
                            <button onclick="confirmDelete()" class="px-4 py-2 border border-red-600 text-red-500 rounded-md hover:bg-red-600 hover:text-white transition-colors font-medium">
                                Delete Account
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
        // --- INITIALIZATION ---
        function init() {
            lucide.createIcons();
            setupEventListeners();
        }

        // --- ACTIONS ---
        function confirmDelete() {
            if(confirm("Are you sure you want to delete your account? This action cannot be undone.")) {
                alert("Account deletion request submitted.");
            }
        }

        // --- EVENT LISTENERS ---
        function setupEventListeners() {
            // Sidebar
            const toggleSidebar = () => {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebar-overlay');
                const isClosed = sidebar.classList.contains('-translate-x-full');
                
                if (isClosed) {
                    sidebar.classList.remove('-translate-x-full');
                    overlay.classList.remove('hidden');
                } else {
                    sidebar.classList.add('-translate-x-full');
                    overlay.classList.add('hidden');
                }
            };
            
            document.getElementById('mobile-menu-btn').addEventListener('click', toggleSidebar);
            document.getElementById('sidebar-overlay').addEventListener('click', toggleSidebar);
        }

        // Run
        init();
    </script>
</body>
</html>
